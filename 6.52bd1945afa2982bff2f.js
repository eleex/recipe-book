(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"7Lvj":function(e,i,t){"use strict";t.r(i),t.d(i,"RecipesModule",(function(){return A}));var r=t("3Pt+"),n=t("fXoL"),c=t("GXvH"),o=t("ceC1");let b=(()=>{class e{constructor(e,i){this.dataStorageService=e,this.recipeService=i}resolve(e,i){if(0===this.recipeService.getRecipes().length)return this.dataStorageService.fetchRecipes()}}return e.\u0275fac=function(i){return new(i||e)(n.Ob(c.a),n.Ob(o.a))},e.\u0275prov=n.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var s=t("tyNb"),p=t("3V6w"),a=t("ofXK");function d(e,i){if(1&e&&(n.Kb(0,"li",10),n.dc(1),n.Jb()),2&e){const e=i.$implicit;n.xb(1),n.gc(" ",e.name," - ",e.amount," ")}}let u=(()=>{class e{constructor(e,i,t){this.recipeService=e,this.route=i,this.router=t}ngOnInit(){this.route.params.subscribe(e=>{this.index=+e.id,this.recipe=this.recipeService.getRecipe(this.index)})}onAddToShoppingList(){this.recipeService.addIngredientsToShoppingList(this.recipe.ingredients)}onEditRecipe(){this.router.navigate(["recipes",this.index,"edit"])}onDeleteRecipe(){this.recipeService.deleteRecipe(this.index),this.router.navigate(["/recipes"])}}return e.\u0275fac=function(i){return new(i||e)(n.Hb(o.a),n.Hb(s.a),n.Hb(s.c))},e.\u0275cmp=n.Bb({type:e,selectors:[["app-recipe-detail"]],decls:30,vars:5,consts:[[1,"row"],[1,"col-xs-12"],[1,"img-responsive",2,"max-height","300px",3,"src","alt"],["appDropdown","",1,"btn-group"],["type","button",1,"btn","btn-primary","dropdown-toggle"],[1,"caret"],[1,"dropdown-menu"],[2,"cursor","pointer",3,"click"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"]],template:function(e,i){1&e&&(n.Kb(0,"div",0),n.Kb(1,"div",1),n.Ib(2,"img",2),n.Jb(),n.Jb(),n.Kb(3,"div",0),n.Kb(4,"div",1),n.Kb(5,"h1"),n.dc(6),n.Jb(),n.Jb(),n.Jb(),n.Kb(7,"div",0),n.Kb(8,"div",1),n.Kb(9,"div",3),n.Kb(10,"button",4),n.dc(11," Manage Recipe "),n.Ib(12,"span",5),n.Jb(),n.Kb(13,"ul",6),n.Kb(14,"li"),n.Kb(15,"a",7),n.Rb("click",(function(){return i.onAddToShoppingList()})),n.dc(16,"To Shopping List"),n.Jb(),n.Jb(),n.Kb(17,"li"),n.Kb(18,"a",7),n.Rb("click",(function(){return i.onEditRecipe()})),n.dc(19,"Edit Recipe"),n.Jb(),n.Jb(),n.Kb(20,"li"),n.Kb(21,"a",7),n.Rb("click",(function(){return i.onDeleteRecipe()})),n.dc(22,"Delete Recipe"),n.Jb(),n.Jb(),n.Jb(),n.Jb(),n.Jb(),n.Jb(),n.Kb(23,"div",0),n.Kb(24,"div",1),n.dc(25),n.Jb(),n.Jb(),n.Kb(26,"div",0),n.Kb(27,"div",1),n.Kb(28,"ul",8),n.cc(29,d,2,2,"li",9),n.Jb(),n.Jb(),n.Jb()),2&e&&(n.xb(2),n.Ub("src",i.recipe.imagePath,n.ac)("alt",i.recipe.name),n.xb(4),n.ec(i.recipe.name),n.xb(19),n.fc(" ",i.recipe.description," "),n.xb(4),n.Ub("ngForOf",i.recipe.ingredients))},directives:[p.a,a.h],styles:[""]}),e})();function m(e,i){1&e&&(n.Kb(0,"span",19),n.dc(1,"Name is required!"),n.Jb())}function l(e,i){if(1&e&&(n.Kb(0,"div"),n.cc(1,m,2,0,"span",18),n.Jb()),2&e){const e=n.Tb();n.xb(1),n.Ub("ngIf",e.recipeForm.get("name").errors.required)}}function g(e,i){1&e&&(n.Kb(0,"span",19),n.dc(1,"Image URL is required!"),n.Jb())}function f(e,i){if(1&e&&(n.Kb(0,"div"),n.cc(1,g,2,0,"span",18),n.Jb()),2&e){const e=n.Tb();n.xb(1),n.Ub("ngIf",e.recipeForm.get("imagePath").errors.required)}}function v(e,i){1&e&&(n.Kb(0,"span",19),n.dc(1,"Description is required!"),n.Jb())}function h(e,i){if(1&e&&(n.Kb(0,"div"),n.cc(1,v,2,0,"span",18),n.Jb()),2&e){const e=n.Tb();n.xb(1),n.Ub("ngIf",e.recipeForm.get("description").errors.required)}}function J(e,i){1&e&&(n.Kb(0,"span",19),n.dc(1,"Ingredient name is required"),n.Jb())}function K(e,i){if(1&e&&(n.Kb(0,"div"),n.cc(1,J,2,0,"span",18),n.Jb()),2&e){const e=n.Tb().$implicit;n.xb(1),n.Ub("ngIf",e.get("name").errors.required)}}function x(e,i){1&e&&(n.Kb(0,"span",19),n.dc(1,"Ingredient amount is required"),n.Jb())}function w(e,i){1&e&&(n.Kb(0,"span",19),n.dc(1,"Ingredient amount should be a positive number"),n.Jb())}function I(e,i){if(1&e&&(n.Kb(0,"div"),n.cc(1,x,2,0,"span",18),n.cc(2,w,2,0,"span",18),n.Jb()),2&e){const e=n.Tb().$implicit;n.xb(1),n.Ub("ngIf",e.get("amount").errors.required),n.xb(1),n.Ub("ngIf",e.get("amount").errors.pattern)}}function F(e,i){if(1&e){const e=n.Lb();n.Kb(0,"div",20),n.Kb(1,"div",21),n.Ib(2,"input",22),n.cc(3,K,2,1,"div",9),n.Jb(),n.Kb(4,"div",23),n.Ib(5,"input",24),n.cc(6,I,3,2,"div",9),n.Jb(),n.Kb(7,"div",23),n.Kb(8,"button",5),n.Rb("click",(function(){n.Zb(e);const t=i.index;return n.Tb().onDeleteIngredient(t)})),n.dc(9," X "),n.Jb(),n.Jb(),n.Jb()}if(2&e){const e=i.$implicit;n.Ub("formGroupName",i.index),n.xb(3),n.Ub("ngIf",e.get("name").errors&&e.get("name").touched),n.xb(3),n.Ub("ngIf",e.get("amount").errors&&e.get("amount").touched)}}let y=(()=>{class e{constructor(e,i,t){this.route=e,this.router=i,this.recipeService=t,this.editMode=!1}ngOnInit(){this.route.params.subscribe(e=>{this.index=+e.id,this.editMode=!!e.id,this.initForm()})}onSubmit(){this.editMode?this.recipeService.updateRecipe(this.index,this.recipeForm.value):this.recipeService.addRecipe(this.recipeForm.value),this.router.navigate(["/recipes"])}onCancel(){this.router.navigate(["/recipes"])}onDeleteIngredient(e){this.recipeForm.get("ingredients").removeAt(e),console.log(this.recipeForm.value)}onAddIngredient(){this.recipeForm.get("ingredients").push(new r.f({name:new r.d(null,[r.r.required]),amount:new r.d(null,[r.r.required,r.r.pattern(/^[1-9]+[0-9]*$/)])}))}initForm(){let e="",i="",t="";const n=[];if(this.editMode){const c=this.recipeService.getRecipe(this.index);e=c.name,i=c.imagePath,t=c.description,c.ingredients&&n.push(...c.ingredients.map(e=>new r.f({name:new r.d(e.name,[r.r.required]),amount:new r.d(e.amount,[r.r.required,r.r.pattern(/^[1-9]+[0-9]*$/)])})))}this.recipeForm=new r.f({name:new r.d(e,[r.r.required]),imagePath:new r.d(i,[r.r.required]),description:new r.d(t,[r.r.required]),ingredients:new r.b(n)})}}return e.\u0275fac=function(i){return new(i||e)(n.Hb(s.a),n.Hb(s.c),n.Hb(o.a))},e.\u0275cmp=n.Bb({type:e,selectors:[["app-recipe-edit"]],decls:42,vars:8,consts:[[1,"row"],[1,"col-xs-12"],[3,"formGroup","ngSubmit"],[1,"btn-group"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button",1,"btn","btn-danger",3,"click"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],[4,"ngIf"],["for","imagePath"],["type","text","id","imagePath","formControlName","imagePath",1,"form-control"],["width","200",1,"img-responsive",3,"src","alt"],["for","description"],["id","description","rows","6","formControlName","description",1,"form-control"],["formArrayName","ingredients",1,"col-xs-12"],["class","row","style","margin-bottom: 5px",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success",3,"click"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"row",2,"margin-bottom","5px",3,"formGroupName"],[1,"col-xs-8"],["type","text","formControlName","name",1,"form-control"],[1,"col-xs-2"],["type","number","formControlName","amount",1,"form-control"]],template:function(e,i){1&e&&(n.Kb(0,"div",0),n.Kb(1,"div",1),n.Kb(2,"form",2),n.Rb("ngSubmit",(function(){return i.onSubmit()})),n.Kb(3,"div",0),n.Kb(4,"div",1),n.Kb(5,"div",3),n.Kb(6,"button",4),n.dc(7," Save "),n.Jb(),n.Kb(8,"button",5),n.Rb("click",(function(){return i.onCancel()})),n.dc(9," Cancel "),n.Jb(),n.Jb(),n.Jb(),n.Jb(),n.Kb(10,"div",0),n.Kb(11,"div",1),n.Kb(12,"div",6),n.Kb(13,"label",7),n.dc(14,"Name"),n.Jb(),n.Ib(15,"input",8),n.cc(16,l,2,1,"div",9),n.Jb(),n.Jb(),n.Jb(),n.Kb(17,"div",0),n.Kb(18,"div",1),n.Kb(19,"div",6),n.Kb(20,"label",10),n.dc(21,"Image URL"),n.Jb(),n.Ib(22,"input",11),n.cc(23,f,2,1,"div",9),n.Jb(),n.Jb(),n.Jb(),n.Kb(24,"div",0),n.Kb(25,"div",1),n.Ib(26,"img",12),n.Jb(),n.Jb(),n.Kb(27,"div",0),n.Kb(28,"div",1),n.Kb(29,"div",6),n.Kb(30,"label",13),n.dc(31,"Description"),n.Jb(),n.Ib(32,"textarea",14),n.cc(33,h,2,1,"div",9),n.Jb(),n.Jb(),n.Jb(),n.Kb(34,"div",0),n.Kb(35,"div",15),n.cc(36,F,10,3,"div",16),n.Ib(37,"hr"),n.Kb(38,"div",0),n.Kb(39,"div",1),n.Kb(40,"button",17),n.Rb("click",(function(){return i.onAddIngredient()})),n.dc(41," Add Ingredient "),n.Jb(),n.Jb(),n.Jb(),n.Jb(),n.Jb(),n.Jb(),n.Jb(),n.Jb()),2&e&&(n.xb(2),n.Ub("formGroup",i.recipeForm),n.xb(4),n.Ub("disabled",!i.recipeForm.valid),n.xb(10),n.Ub("ngIf",i.recipeForm.get("name").errors&&i.recipeForm.get("name").touched),n.xb(7),n.Ub("ngIf",i.recipeForm.get("imagePath").errors&&i.recipeForm.get("imagePath").touched),n.xb(3),n.Ub("src",i.recipeForm.get("imagePath").value,n.ac)("alt",i.recipeForm.get("name").value),n.xb(7),n.Ub("ngIf",i.recipeForm.get("description").errors&&i.recipeForm.get("description").touched),n.xb(3),n.Ub("ngForOf",i.recipeForm.controls.ingredients.controls))},directives:[r.s,r.k,r.g,r.a,r.j,r.e,a.i,r.c,a.h,r.h,r.n],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%], textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:red}"]}),e})(),R=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=n.Bb({type:e,selectors:[["app-recipe-start"]],decls:2,vars:0,template:function(e,i){1&e&&(n.Kb(0,"h3"),n.dc(1,"Please select a Recipe!"),n.Jb())},styles:[""]}),e})();var S=t("IzEk"),U=t("lJxs"),k=t("qXBG");let q=(()=>{class e{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){return this.authService.user.pipe(Object(S.a)(1),Object(U.a)(e=>!!e||this.router.createUrlTree(["/auth"])))}}return e.\u0275fac=function(i){return new(i||e)(n.Ob(k.a),n.Ob(s.c))},e.\u0275prov=n.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const O=function(e){return["/recipes",e]};let N=(()=>{class e{constructor(){}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=n.Bb({type:e,selectors:[["app-recipe-item"]],inputs:{recipe:"recipe",index:"index"},decls:8,vars:7,consts:[["routerLinkActive","active",1,"list-group-item","clearfix",2,"cursor","pointer",3,"routerLink"],[1,"pull-left"],[1,"list-group-item-heading"],[1,"list-group-item-text"],[1,"pull-right"],[1,"img-responsive",2,"max-height","50px",3,"src","alt"]],template:function(e,i){1&e&&(n.Kb(0,"a",0),n.Kb(1,"div",1),n.Kb(2,"h4",2),n.dc(3),n.Jb(),n.Kb(4,"p",3),n.dc(5),n.Jb(),n.Jb(),n.Kb(6,"span",4),n.Ib(7,"img",5),n.Jb(),n.Jb()),2&e&&(n.Ub("routerLink",n.Vb(5,O,i.index)),n.xb(3),n.ec(i.recipe.name),n.xb(2),n.ec(i.recipe.description),n.xb(2),n.Ub("src",i.recipe.imagePath,n.ac)("alt",i.recipe.name))},directives:[s.e,s.d],styles:[""]}),e})();function P(e,i){if(1&e&&n.Ib(0,"app-recipe-item",4),2&e){const e=i.index;n.Ub("recipe",i.$implicit)("index",e)}}let C=(()=>{class e{constructor(e,i){this.recipeService=e,this.router=i}ngOnInit(){this.subscription=this.recipeService.recipesChanged.subscribe(e=>{this.recipes=e}),this.recipes=this.recipeService.getRecipes()}ngOnDestroy(){this.subscription.unsubscribe()}onNewRecipe(){this.router.navigate(["recipes","new"])}}return e.\u0275fac=function(i){return new(i||e)(n.Hb(o.a),n.Hb(s.c))},e.\u0275cmp=n.Bb({type:e,selectors:[["app-recipe-list"]],decls:8,vars:1,consts:[[1,"row"],[1,"col-xs-12"],[1,"btn","btn-success",3,"click"],[3,"recipe","index",4,"ngFor","ngForOf"],[3,"recipe","index"]],template:function(e,i){1&e&&(n.Kb(0,"div",0),n.Kb(1,"div",1),n.Kb(2,"button",2),n.Rb("click",(function(){return i.onNewRecipe()})),n.dc(3,"New Recipe"),n.Jb(),n.Jb(),n.Jb(),n.Ib(4,"hr"),n.Kb(5,"div",0),n.Kb(6,"div",1),n.cc(7,P,1,2,"app-recipe-item",3),n.Jb(),n.Jb()),2&e&&(n.xb(7),n.Ub("ngForOf",i.recipes))},directives:[a.h,N],styles:[""]}),e})();const L=[{path:"",component:(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=n.Bb({type:e,selectors:[["app-recipes"]],decls:5,vars:0,consts:[[1,"row"],[1,"col-md-5"],[1,"col-md-7"]],template:function(e,i){1&e&&(n.Kb(0,"div",0),n.Kb(1,"div",1),n.Ib(2,"app-recipe-list"),n.Jb(),n.Kb(3,"div",2),n.Ib(4,"router-outlet"),n.Jb(),n.Jb())},directives:[C,s.g],styles:[""]}),e})(),canActivate:[q],children:[{path:"",component:R},{path:"new",component:y},{path:":id",component:u,resolve:[b]},{path:":id/edit",component:y,resolve:[b]}]}];let D=(()=>{class e{}return e.\u0275mod=n.Fb({type:e}),e.\u0275inj=n.Eb({factory:function(i){return new(i||e)},imports:[[s.f.forChild(L)],s.f]}),e})();var T=t("PCNd");let A=(()=>{class e{}return e.\u0275mod=n.Fb({type:e}),e.\u0275inj=n.Eb({factory:function(i){return new(i||e)},imports:[[r.p,D,T.a]]}),e})()}}]);